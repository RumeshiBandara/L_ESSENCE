<div class="min-h-screen bg-cream selection:bg-gold/30">

  <!-- Navbar -->
  <nav [class.glass-nav]="isScrolled()" [class.bg-transparent]="!isScrolled()" [class.py-4]="isScrolled()"
    [class.py-8]="!isScrolled()"
    class="fixed top-0 left-0 right-0 z-[100] px-6 md:px-12 flex items-center justify-between transition-all duration-500">

    <div class="flex items-center gap-6 md:gap-12">
      <button (click)="toggleSidebar()" class="text-charcoal p-2 hover:bg-gold/10 transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
      <div class="hidden lg:flex gap-10 text-[9px] uppercase tracking-[0.3em] font-bold text-charcoal/60">
        <a href="#" class="hover:text-charcoal transition-colors">Boutique</a>
        <a href="#" class="hover:text-charcoal transition-colors">Collections</a>
        <a href="#" class="hover:text-charcoal transition-colors">Discover</a>
      </div>
    </div>

    <div class="flex flex-col items-center">
      <h1 class="text-2xl md:text-4xl tracking-[0.2em] font-medium italic">L'ESSENCE</h1>
    </div>

    <div class="flex items-center gap-6 md:gap-10">
      <button class="hidden md:block text-charcoal/60 hover:text-charcoal transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </button>
      <div class="relative cursor-pointer group" (click)="toggleSidebar()">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <path d="M16 10a4 4 0 0 1-8 0"></path>
        </svg>
        <span *ngIf="cartCount() > 0"
          class="absolute -top-1 -right-1 w-2 h-2 bg-gold rounded-full border-2 border-cream ring-1 ring-gold/20"></span>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="relative h-screen min-h-[700px] w-full overflow-hidden">
    <img src="https://images.unsplash.com/photo-1556228578-012ba127b98f?auto=format&fit=crop&q=80&w=2070"
      alt="Luxury Hero"
      class="absolute inset-0 w-full h-full object-cover scale-105 transition-transform duration-[20s] hover:scale-100">
    <div class="absolute inset-0 bg-charcoal/5"></div>
    <div class="absolute inset-0 flex items-center justify-center p-6">
      <div
        class="glass-card max-w-2xl w-full p-10 md:p-20 text-center text-charcoal animate-fade-in-up border border-white/50">
        <span class="text-[9px] uppercase tracking-[0.5em] mb-6 block font-bold text-gold">The Essence of
          Elegance</span>
        <h2 class="text-5xl md:text-7xl mb-8 leading-[1.1] font-medium tracking-tight">The Golden Hour Collection</h2>
        <p class="mb-12 text-charcoal/70 leading-relaxed font-light text-lg max-w-md mx-auto">
          High-performance skincare curated for the modern minimalist. Radiant skin, refined.
        </p>
        <button (click)="loadProducts()" class="btn-premium px-12 py-5 text-[10px] tracking-[0.3em]">Discover
          Now</button>
      </div>
    </div>
  </section>

  <!-- Quick Filter Bar -->
  <div
    class="sticky top-[72px] md:top-[88px] z-40 bg-cream/90 backdrop-blur-md border-y border-charcoal/5 px-6 py-6 md:py-8 overflow-hidden">
    <div class="max-w-7xl mx-auto flex items-center gap-4 md:gap-8 overflow-x-auto scrollbar-hide no-scrollbar">
      <button (click)="filterByCategory('all')" [class.bg-charcoal]="selectedCategory() === 'all'"
        [class.text-white]="selectedCategory() === 'all'" [class.border-transparent]="selectedCategory() === 'all'"
        class="whitespace-nowrap px-8 py-3 rounded-none text-[9px] uppercase tracking-[0.3em] font-bold border border-charcoal/10 hover:border-gold transition-all duration-300">
        All Essentials
      </button>
      <button *ngFor="let cat of categories().slice(0, 6)" (click)="filterByCategory(cat)"
        [class.bg-charcoal]="selectedCategory() === cat" [class.text-white]="selectedCategory() === cat"
        [class.border-transparent]="selectedCategory() === cat"
        class="whitespace-nowrap px-8 py-3 rounded-none text-[9px] uppercase tracking-[0.3em] font-bold border border-charcoal/10 hover:border-gold transition-all duration-300 flex items-center gap-2">
        {{ cat.replace('-', ' ') }}
      </button>
    </div>
  </div>

  <!-- Product Grid Section -->
  <section class="max-w-[1400px] mx-auto px-6 md:px-12 py-24 md:py-32">
    <div class="flex flex-col md:flex-row justify-between items-end mb-16 gap-8">
      <div class="max-w-xl">
        <h2 class="text-4xl md:text-5xl mb-6 font-light">Featured Selection</h2>
        <p class="text-charcoal/50 font-light leading-relaxed">
          Discover our hand-picked products, designed to integrate seamlessly into your daily ritual.
        </p>
      </div>
      <div class="text-[10px] uppercase tracking-[0.3em] font-bold text-charcoal/40 border-b border-charcoal/10 pb-2">
        Showing {{products().length}} products
      </div>
    </div>

    <!-- Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-8 gap-y-20">
      <div *ngFor="let product of products()" class="group cursor-pointer flex flex-col h-full"
        (click)="openQuickView(product)">
        <div
          class="relative aspect-[4/5] overflow-hidden bg-[#F2F0ED] rounded-none mb-8 shadow-sm group-hover:shadow-xl transition-all duration-700">
          <img [src]="product.thumbnail"
            class="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105"
            alt="{{product.title}}">

          <div class="absolute top-6 left-6 flex flex-col gap-2">
            <span
              class="bg-white/90 backdrop-blur-sm text-charcoal text-[9px] uppercase tracking-widest px-3 py-1.5 font-bold shadow-sm">
              {{product.category}}
            </span>
            <span *ngIf="product.discountPercentage > 10"
              class="bg-gold text-white text-[9px] uppercase tracking-[0.2em] px-3 py-1.5 font-bold">
              Refined -{{product.discountPercentage.toFixed(0)}}%
            </span>
          </div>

          <button (click)="addToCart(product, $event)"
            class="absolute bottom-6 right-6 bg-charcoal text-white p-4 rounded-full shadow-2xl opacity-0 translate-y-6 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-500 hover:bg-gold translate-z-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <path d="M16 10a4 4 0 0 1-8 0"></path>
            </svg>
          </button>
        </div>

        <div class="flex-grow">
          <h3 class="text-xl mb-2 font-medium tracking-tight group-hover:text-gold transition-colors duration-300">
            {{product.title}}</h3>
          <p class="text-[10px] uppercase tracking-[0.2em] text-charcoal/30 mb-4 font-bold tracking-widest">
            {{product.brand}}</p>
        </div>

        <div class="flex items-center justify-between pt-4 border-t border-charcoal/5">
          <span class="text-gold font-medium tracking-widest text-lg">${{product.price}}</span>
          <div class="flex gap-1">
            <svg *ngFor="let i of [1,2,3,4,5]" class="w-3 h-3" [class.text-gold]="i <= product.rating"
              [class.text-charcoal/10]="i > product.rating" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
              viewBox="0 0 24 24">
              <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" />
            </svg>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Member Section (Aesthetic Filler) -->
  <section class="max-w-[1400px] mx-auto px-6 md:px-12 py-12">
    <div class="bg-charcoal grid grid-cols-1 md:grid-cols-2 rounded-none overflow-hidden min-h-[500px]">
      <div class="p-12 md:p-24 flex flex-col justify-center text-white">
        <span class="text-[9px] uppercase tracking-[0.5em] text-gold mb-8 font-bold">Member Exclusive</span>
        <h2 class="text-5xl md:text-6xl mb-10 leading-[1.1] font-medium italic">Join L'Essence Privée</h2>
        <p class="text-white/50 font-light text-lg leading-relaxed mb-12 max-w-sm">
          Unlock early access to new releases, bespoke skin consultations, and private events.
        </p>
        <button
          class="w-fit bg-gold text-charcoal px-12 py-5 text-[10px] uppercase tracking-[0.3em] font-bold hover:bg-white transition-colors duration-500">
          Explore Benefits
        </button>
      </div>
      <div class="relative min-h-[300px] md:min-h-full">
        <img src="https://images.unsplash.com/photo-1512290923902-8a9f81dc2069?auto=format&fit=crop&q=80&w=1000"
          class="absolute inset-0 w-full h-full object-cover grayscale opacity-60 hover:grayscale-0 transition-all duration-1000"
          alt="Membership">
      </div>
    </div>
  </section>

  <!-- Sidebar Overlay -->
  <div *ngIf="isSidebarOpen()"
    class="fixed inset-0 z-[200] bg-charcoal/40 backdrop-blur-md transition-opacity duration-500"
    (click)="toggleSidebar()">
    <div (click)="$event.stopPropagation()"
      class="absolute inset-y-0 left-0 w-full max-w-md bg-cream p-12 shadow-2xl animate-slide-in-left overflow-y-auto">
      <div class="flex justify-between items-center mb-20">
        <h2 class="text-4xl italic font-light">Filters</h2>
        <button (click)="toggleSidebar()" class="p-4 hover:bg-charcoal/5 rounded-full transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>

      <div class="space-y-4">
        <h3 class="text-[10px] uppercase tracking-[0.4em] font-bold text-charcoal/30 mb-8">Categories</h3>
        <div (click)="filterByCategory('all')"
          class="group flex items-center justify-between py-4 border-b border-charcoal/5 cursor-pointer hover:border-gold transition-colors">
          <span class="uppercase tracking-[0.2em] text-sm font-medium"
            [class.text-gold]="selectedCategory() === 'all'">All Essentials</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="opacity-0 group-hover:opacity-100 transition-opacity">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </div>
        <div *ngFor="let cat of categories()" (click)="filterByCategory(cat)"
          class="group flex items-center justify-between py-4 border-b border-charcoal/5 cursor-pointer hover:border-gold transition-colors">
          <span class="uppercase tracking-[0.2em] text-sm font-medium" [class.text-gold]="selectedCategory() === cat">{{
            cat.replace('-', ' ') }}</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="opacity-0 group-hover:opacity-100 transition-opacity">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </div>
      </div>

      <div class="mt-24">
        <h4 class="text-[9px] uppercase tracking-[0.3em] font-bold text-charcoal/30 mb-8">Newsletter</h4>
        <p class="text-sm font-light leading-relaxed mb-8">Subscribe for exclusive updates and invitations.</p>
        <div class="flex border-b border-charcoal pb-2">
          <input type="email" placeholder="Your essence (Email)"
            class="bg-transparent border-none outline-none flex-grow text-sm font-light">
          <button class="text-[10px] uppercase tracking-widest font-bold">Join</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick View / Sticky Add to Cart Interaction -->
  <div *ngIf="selectedProduct()" class="fixed inset-0 z-[210] flex items-center justify-center p-4 md:p-8">
    <div (click)="closeQuickView()"
      class="absolute inset-0 bg-charcoal/60 backdrop-blur-xl transition-opacity animate-fade-in"></div>

    <div
      class="bg-white max-w-6xl w-full grid grid-cols-1 md:grid-cols-2 rounded-none overflow-hidden relative shadow-[0_50px_100px_-20px_rgba(0,0,0,0.5)] animate-fade-in-up">
      <button (click)="closeQuickView()"
        class="absolute top-6 right-6 z-20 p-3 bg-cream/80 backdrop-blur-sm rounded-full hover:bg-gold hover:text-white transition-all shadow-sm">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>

      <div class="h-[300px] md:h-full bg-[#F2F0ED] overflow-hidden group">
        <img [src]="selectedProduct()?.thumbnail"
          class="w-full h-full object-cover transition-transform duration-[2s] group-hover:scale-110">
      </div>

      <div class="p-10 md:p-20 flex flex-col justify-center bg-white">
        <div class="flex items-center gap-4 mb-8">
          <span class="text-[10px] uppercase tracking-[0.4em] text-gold font-bold">{{selectedProduct()?.brand}}</span>
          <div class="h-px bg-gold/30 flex-grow"></div>
        </div>

        <h2 class="text-4xl md:text-5xl mb-6 font-light tracking-tight">{{selectedProduct()?.title}}</h2>
        <div class="flex items-center gap-6 mb-10">
          <p class="text-gold text-3xl font-light tracking-widest">${{selectedProduct()?.price}}</p>
          <span class="text-charcoal/20 text-sm line-through">${{(selectedProduct()!.price * 1.2).toFixed(2)}}</span>
        </div>

        <p class="text-charcoal/60 leading-relaxed mb-12 font-light text-lg">
          {{selectedProduct()?.description}}
        </p>

        <div class="space-y-6">
          <div class="flex items-center gap-4 mb-4">
            <span class="text-[9px] uppercase tracking-[0.2em] font-bold">Refinement Status:</span>
            <span class="text-[9px] uppercase tracking-[0.2em] font-medium text-emerald-600 bg-emerald-50 px-3 py-1">In
              Stock ({{selectedProduct()?.stock}})</span>
          </div>

          <button (click)="addToCart(selectedProduct()!, $event)"
            class="btn-premium w-full py-6 text-[10px] tracking-[0.4em] flex items-center justify-center gap-4">
            Add to Collective
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path>
              <line x1="3" y1="6" x2="21" y2="6"></line>
            </svg>
          </button>

          <div
            class="flex justify-between items-center text-[9px] uppercase tracking-widest text-charcoal/30 pt-4 font-bold">
            <span>Free Express Shipping</span>
            <span>TIMLESS WARRANTY</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Sticky Bottom Navigation (Mobile Only Aesthetic) -->
  <div
    class="fixed bottom-0 left-0 right-0 md:hidden z-[90] bg-white/90 backdrop-blur-lg border-t border-charcoal/5 px-8 py-4 flex justify-between items-center">
    <button class="flex flex-col items-center gap-1">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
        <polyline points="9 22 9 12 15 12 15 22"></polyline>
      </svg>
      <span class="text-[8px] uppercase tracking-tighter">Boutique</span>
    </button>
    <button (click)="toggleSidebar()" class="flex flex-col items-center gap-1">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
      <span class="text-[8px] uppercase tracking-tighter">Discover</span>
    </button>
    <div class="relative -top-6 bg-gold p-3.5 rounded-full shadow-2xl ring-6 ring-cream translate-y-2">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white"
        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <path d="M16 10a4 4 0 0 1-8 0"></path>
      </svg>
      <span *ngIf="cartCount() > 0"
        class="absolute -top-0.5 -right-0.5 bg-charcoal text-white text-[7px] w-4 h-4 flex items-center justify-center rounded-full border border-gold font-bold">{{cartCount()}}</span>
    </div>
    <button class="flex flex-col items-center gap-1">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path
          d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
        </path>
      </svg>
      <span class="text-[8px] uppercase tracking-tighter">Wishlist</span>
    </button>
    <button class="flex flex-col items-center gap-1">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
        <circle cx="12" cy="7" r="4"></circle>
      </svg>
      <span class="text-[8px] uppercase tracking-tighter">Profile</span>
    </button>
  </div>

  <!-- Footer -->
  <footer class="bg-charcoal text-white py-24 px-6 md:px-12 border-t border-white/5 pb-32 md:pb-24">
    <div class="max-w-[1400px] mx-auto">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-16 md:gap-24 mb-24">
        <div class="col-span-1 md:col-span-2">
          <h2 class="text-4xl md:text-5xl italic font-light mb-10 tracking-[0.1em]">L'ESSENCE</h2>
          <p class="text-white/40 max-w-sm font-light leading-relaxed text-lg italic">
            "Beauty in its purest, most essential form."
          </p>
        </div>
        <div>
          <h4 class="text-[9px] uppercase tracking-[0.4em] mb-10 font-bold text-gold">Maison</h4>
          <ul class="space-y-5 text-white/50 text-xs font-medium tracking-widest leading-loose uppercase">
            <li><a href="#" class="hover:text-white transition-colors">Boutique</a></li>
            <li><a href="#" class="hover:text-white transition-colors">The Monograph</a></li>
            <li><a href="#" class="hover:text-white transition-colors">Philosophy</a></li>
            <li><a href="#" class="hover:text-white transition-colors">Sustainability</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-[9px] uppercase tracking-[0.4em] mb-10 font-bold text-gold">Concierge</h4>
          <ul class="space-y-5 text-white/50 text-xs font-medium tracking-widest uppercase">
            <li><a href="#" class="hover:text-white transition-colors">Live Ritual</a></li>
            <li><a href="#" class="hover:text-white transition-colors">Shipping</a></li>
            <li><a href="#" class="hover:text-white transition-colors">Contact</a></li>
            <li><a href="#" class="hover:text-white transition-colors">FAQ</a></li>
          </ul>
        </div>
      </div>

      <div class="flex flex-col md:flex-row justify-between items-center gap-8 pt-12 border-t border-white/5">
        <div class="text-[10px] tracking-[0.2em] font-bold text-white/20 uppercase">
          © 2026 L'ESSENCE INTERNATIONAL. ALL RIGHTS RESERVED.
        </div>
        <div class="flex gap-10 text-[10px] tracking-[0.2em] font-bold text-white/20 uppercase">
          <a href="#" class="hover:text-white transition-colors">Terms</a>
          <a href="#" class="hover:text-white transition-colors">Privacy</a>
          <a href="#" class="hover:text-white transition-colors">Accessibility</a>
        </div>
      </div>
    </div>
  </footer>

</div>